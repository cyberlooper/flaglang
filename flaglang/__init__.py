FLAGS = {
    b' U+1f1e6 U+1f1e9' : 'ca', # Andorra
    b' U+1f1e6 U+1f1eb' : 'fa', # Afghanistan
    b' U+1f1e6 U+1f1ec' : 'en', # Antigua & Barbuda
    b' U+1f1e6 U+1f1ee' : 'en', # anguilla
    b' U+1f1e6 U+1f1f1' : 'sq', # Albania
    b' U+1f1e6 U+1f1f2' : 'hy', # Armenia
    b' U+1f1e6 U+1f1f4' : 'pt', # Angola
    b' U+1f1e6 U+1f1f6' : None, # antarctica
    b' U+1f1e6 U+1f1f7' : 'es', # Argentina
    b' U+1f1e6 U+1f1f8' : 'sm',
    b' U+1f1e6 U+1f1f9' : 'de',
    b' U+1f1e6 U+1f1fa' : 'en',
    b' U+1f1e6 U+1f1fc' : None, # aruba
    b' U+1f1e6 U+1f1fd' : None, # aland islands
    b' U+1f1e6 U+1f1ff' : 'az',
    b' U+1f1e7 U+1f1e6' : 'bs',
    b' U+1f1e7 U+1f1e7' : 'en',
    b' U+1f1e7 U+1f1e9' : None, # bangladesh
    b' U+1f1e7 U+1f1ea' : 'nl',
    b' U+1f1e7 U+1f1eb' : 'fr',
    b' U+1f1e7 U+1f1ec' : 'bg',
    b' U+1f1e7 U+1f1ed' : 'ar',
    b' U+1f1e7 U+1f1ee' : 'fr', # burundi (Kirundi and French)
    b' U+1f1e7 U+1f1ef' : 'fr',
    b' U+1f1e7 U+1f1f1' : None, # st barthelemy
    b' U+1f1e7 U+1f1f2' : None, # bermuda
    b' U+1f1e7 U+1f1f3' : 'ms',
    b' U+1f1e7 U+1f1f4' : 'es',
    b' U+1f1e7 U+1f1f6' : None, # caribbean netherlands
    b' U+1f1e7 U+1f1f7' : 'pt',
    b' U+1f1e7 U+1f1f8' : 'en',
    b' U+1f1e7 U+1f1f9' : None, # bhutan
    b' U+1f1e7 U+1f1fb' : None, # bouvet island
    b' U+1f1e7 U+1f1fc' : None, # botswana
    b' U+1f1e7 U+1f1fe' : 'be',
    b' U+1f1e7 U+1f1ff' : 'en',
    b' U+1f1e8 U+1f1e6' : 'en',
    b' U+1f1e8 U+1f1e8' : None, # cocos islands
    b' U+1f1e8 U+1f1e9' : 'fr', # congo kinshasa
    b' U+1f1e8 U+1f1eb' : 'fr', # central african republic
    b' U+1f1e8 U+1f1ec' : 'fr', # congo brazzaville
    b' U+1f1e8 U+1f1ed' : 'de',
    b' U+1f1e8 U+1f1ee' : 'ci', # cote divoire
    b' U+1f1e8 U+1f1f0' : None, # cook islands
    b' U+1f1e8 U+1f1f1' : 'es',
    b' U+1f1e8 U+1f1f2' : 'fr',
    b' U+1f1e8 U+1f1f3' : 'zh-tw',
    b' U+1f1e8 U+1f1f4' : 'es',
    b' U+1f1e8 U+1f1f5' : None, # clipperton island
    b' U+1f1e8 U+1f1f7' : 'es',
    b' U+1f1e8 U+1f1fa' : 'es',
    b' U+1f1e8 U+1f1fb' : 'pt',
    b' U+1f1e8 U+1f1fc' : None, # curacao
    b' U+1f1e8 U+1f1fd' : None, # christmas island
    b' U+1f1e8 U+1f1fe' : 'el',
    b' U+1f1e8 U+1f1ff' : 'cs',
    b' U+1f1e9 U+1f1ea' : 'de',
    b' U+1f1e9 U+1f1ec' : None, # diego garcia
    b' U+1f1e9 U+1f1ef' : 'fr', # djibouti (French and Arabic)
    b' U+1f1e9 U+1f1f0' : 'da',
    b' U+1f1e9 U+1f1f2' : 'en',
    b' U+1f1e9 U+1f1f4' : 'es',
    b' U+1f1e9 U+1f1ff' : 'ar',
    b' U+1f1ea U+1f1e6' : None, # ceuta melilla
    b' U+1f1ea U+1f1e8' : 'es',
    b' U+1f1ea U+1f1ea' : 'et',
    b' U+1f1ea U+1f1ec' : 'ar',
    b' U+1f1ea U+1f1ed' : None, # western sahara
    b' U+1f1ea U+1f1f7' : None, # eritrea
    b' U+1f1ea U+1f1f8' : 'es',
    b' U+1f1ea U+1f1f9' : 'am',
    b' U+1f1ea U+1f1fa' : None, # european union
    b' U+1f1eb U+1f1ee' : 'fi',
    b' U+1f1eb U+1f1ef' : 'en',
    b' U+1f1eb U+1f1f0' : None, # falkland islands
    b' U+1f1eb U+1f1f2' : 'en',
    b' U+1f1eb U+1f1f4' : None, # faroe islands
    b' U+1f1eb U+1f1f7' : 'fr',
    b' U+1f1ec U+1f1e6' : 'fr',
    b' U+1f1ec U+1f1e7' : 'en',
    b' U+1f1ec U+1f1e9' : 'en',
    b' U+1f1ec U+1f1ea' : 'ka',
    b' U+1f1ec U+1f1eb' : None, # french guiana
    b' U+1f1ec U+1f1ec' : None, # guernsey
    b' U+1f1ec U+1f1ed' : 'en',
    b' U+1f1ec U+1f1ee' : None, # gibraltar
    b' U+1f1ec U+1f1f1' : None, # greenland
    b' U+1f1ec U+1f1f2' : 'en',
    b' U+1f1ec U+1f1f3' : 'fr',
    b' U+1f1ec U+1f1f5' : None, # guadeloupe
    b' U+1f1ec U+1f1f6' : 'es',
    b' U+1f1ec U+1f1f7' : 'el',
    b' U+1f1ec U+1f1f8' : None, # south georgia south sandwich islands
    b' U+1f1ec U+1f1f9' : 'es',
    b' U+1f1ec U+1f1fa' : None, # guam
    b' U+1f1ec U+1f1fc' : 'pt',
    b' U+1f1ec U+1f1fe' : 'en',
    b' U+1f1ed U+1f1f0' : None, # hong kong
    b' U+1f1ed U+1f1f2' : None, # heard mcdonald islands
    b' U+1f1ed U+1f1f3' : 'es',
    b' U+1f1ed U+1f1f7' : 'hr',
    b' U+1f1ed U+1f1f9' : 'ht',
    b' U+1f1ed U+1f1fa' : 'hu',
    b' U+1f1ee U+1f1e8' : None, # canary islands
    b' U+1f1ee U+1f1e9' : 'id',
    b' U+1f1ee U+1f1ea' : 'en',
    b' U+1f1ee U+1f1f1' : 'iw',
    b' U+1f1ee U+1f1f2' : None, # isle of man
    b' U+1f1ee U+1f1f3' : 'hi',
    b' U+1f1ee U+1f1f4' : None, # british indian ocean territory
    b' U+1f1ee U+1f1f6' : 'ar',
    b' U+1f1ee U+1f1f7' : 'fa',
    b' U+1f1ee U+1f1f8' : 'is',
    b' U+1f1ee U+1f1f9' : 'it',
    b' U+1f1ef U+1f1ea' : None, # jersey
    b' U+1f1ef U+1f1f2' : 'en',
    b' U+1f1ef U+1f1f4' : 'ar',
    b' U+1f1ef U+1f1f5' : 'ja',
    b' U+1f1f0 U+1f1ea' : 'en',
    b' U+1f1f0 U+1f1ec' : 'ky',
    b' U+1f1f0 U+1f1ed' : 'km',
    b' U+1f1f0 U+1f1ee' : 'en',
    b' U+1f1f0 U+1f1f2' : 'ar',
    b' U+1f1f0 U+1f1f3' : 'en',
    b' U+1f1f0 U+1f1f5' : 'ko',
    b' U+1f1f0 U+1f1f7' : 'ko',
    b' U+1f1f0 U+1f1fc' : 'ar',
    b' U+1f1f0 U+1f1fe' : None, # cayman islands
    b' U+1f1f0 U+1f1ff' : 'kk',
    b' U+1f1f1 U+1f1e6' : 'lo',
    b' U+1f1f1 U+1f1e7' : 'ar',
    b' U+1f1f1 U+1f1e8' : 'en',
    b' U+1f1f1 U+1f1ee' : 'de',
    b' U+1f1f1 U+1f1f0' : 'si',
    b' U+1f1f1 U+1f1f7' : 'en',
    b' U+1f1f1 U+1f1f8' : 'en',
    b' U+1f1f1 U+1f1f9' : 'lt',
    b' U+1f1f1 U+1f1fa' : 'lb',
    b' U+1f1f1 U+1f1fb' : 'lv',
    b' U+1f1f1 U+1f1fe' : 'ar',
    b' U+1f1f2 U+1f1e6' : 'ar',
    b' U+1f1f2 U+1f1e8' : 'fr',
    b' U+1f1f2 U+1f1e9' : None, # moldova
    b' U+1f1f2 U+1f1ea' : 'sr',
    b' U+1f1f2 U+1f1eb' : None, # st martin
    b' U+1f1f2 U+1f1ec' : 'mg',
    b' U+1f1f2 U+1f1ed' : None, # marshall islands
    b' U+1f1f2 U+1f1f0' : 'mk',
    b' U+1f1f2 U+1f1f1' : 'so',
    b' U+1f1f2 U+1f1f2' : 'my',
    b' U+1f1f2 U+1f1f3' : 'mn',
    b' U+1f1f2 U+1f1f4' : None, # macau
    b' U+1f1f2 U+1f1f5' : None, # northern mariana islands
    b' U+1f1f2 U+1f1f6' : None, # martinique
    b' U+1f1f2 U+1f1f7' : None, # mauritania
    b' U+1f1f2 U+1f1f8' : None, # montserrat
    b' U+1f1f2 U+1f1f9' : 'mt',
    b' U+1f1f2 U+1f1fa' : None, # mauritius
    b' U+1f1f2 U+1f1fb' : None, # maldives
    b' U+1f1f2 U+1f1fc' : 'ny',
    b' U+1f1f2 U+1f1fd' : 'es',
    b' U+1f1f2 U+1f1fe' : 'ms',
    b' U+1f1f2 U+1f1ff' : 'pt',
    b' U+1f1f3 U+1f1e6' : 'en', # namibia (english is official, but afrikaans is most widely spoken)
    b' U+1f1f3 U+1f1e8' : None, # new caledonia
    b' U+1f1f3 U+1f1ea' : 'fr',
    b' U+1f1f3 U+1f1eb' : None, # norfolk island
    b' U+1f1f3 U+1f1ec' : 'en',
    b' U+1f1f3 U+1f1ee' : 'es',
    b' U+1f1f3 U+1f1f1' : 'nl',
    b' U+1f1f3 U+1f1f4' : 'no',
    b' U+1f1f3 U+1f1f5' : 'ne',
    b' U+1f1f3 U+1f1f7' : None, # nauru
    b' U+1f1f3 U+1f1fa' : None, # niue
    b' U+1f1f3 U+1f1ff' : 'en',
    b' U+1f1f4 U+1f1f2' : 'ar',
    b' U+1f1f5 U+1f1e6' : 'es',
    b' U+1f1f5 U+1f1ea' : 'es',
    b' U+1f1f5 U+1f1eb' : None, # french polynesia
    b' U+1f1f5 U+1f1ec' : None, # papua new guinea
    b' U+1f1f5 U+1f1ed' : 'tl',
    b' U+1f1f5 U+1f1f0' : 'ur',
    b' U+1f1f5 U+1f1f1' : 'pl',
    b' U+1f1f5 U+1f1f2' : None, # st pierre miquelon
    b' U+1f1f5 U+1f1f3' : None, # pitcairn islands
    b' U+1f1f5 U+1f1f7' : None, # puerto rico
    b' U+1f1f5 U+1f1f8' : 'ar', # palestinian territories
    b' U+1f1f5 U+1f1f9' : 'pt',
    b' U+1f1f5 U+1f1fc' : None, # palau
    b' U+1f1f5 U+1f1fe' : 'es',
    b' U+1f1f6 U+1f1e6' : 'ar',
    b' U+1f1f7 U+1f1ea' : None, # reunion
    b' U+1f1f7 U+1f1f4' : 'ro',
    b' U+1f1f7 U+1f1f8' : 'sr',
    b' U+1f1f7 U+1f1fa' : 'ru',
    b' U+1f1f7 U+1f1fc' : None, # rwanda
    b' U+1f1f8 U+1f1e6' : 'ar',
    b' U+1f1f8 U+1f1e7' : 'en',
    b' U+1f1f8 U+1f1e8' : None, # seychelles
    b' U+1f1f8 U+1f1e9' : 'ar',
    b' U+1f1f8 U+1f1ea' : 'sv',
    b' U+1f1f8 U+1f1ec' : None, # singapore
    b' U+1f1f8 U+1f1ed' : None, # st helena
    b' U+1f1f8 U+1f1ee' : 'sl',
    b' U+1f1f8 U+1f1ef' : None, # svalbard jan mayen
    b' U+1f1f8 U+1f1f0' : 'sk',
    b' U+1f1f8 U+1f1f1' : 'en',
    b' U+1f1f8 U+1f1f2' : 'it',
    b' U+1f1f8 U+1f1f3' : 'fr',
    b' U+1f1f8 U+1f1f4' : 'so',
    b' U+1f1f8 U+1f1f7' : 'nl',
    b' U+1f1f8 U+1f1f8' : 'en',
    b' U+1f1f8 U+1f1f9' : 'pt',
    b' U+1f1f8 U+1f1fb' : 'es',
    b' U+1f1f8 U+1f1fd' : None, # sint maarten
    b' U+1f1f8 U+1f1fe' : 'ar',
    b' U+1f1f8 U+1f1ff' : 'en',
    b' U+1f1f9 U+1f1e6' : None, # tristan da cunha
    b' U+1f1f9 U+1f1e8' : None, # turks caicos islands
    b' U+1f1f9 U+1f1e9' : 'fr',
    b' U+1f1f9 U+1f1eb' : None, # french southern territories
    b' U+1f1f9 U+1f1ec' : 'fr',
    b' U+1f1f9 U+1f1ed' : 'th',
    b' U+1f1f9 U+1f1ef' : 'tg',
    b' U+1f1f9 U+1f1f0' : None, # tokelau
    b' U+1f1f9 U+1f1f1' : None, # timor leste
    b' U+1f1f9 U+1f1f2' : None, # turkmenistan
    b' U+1f1f9 U+1f1f3' : 'ar',
    b' U+1f1f9 U+1f1f4' : None, # tonga
    b' U+1f1f9 U+1f1f7' : 'tr',
    b' U+1f1f9 U+1f1f9' : 'en',
    b' U+1f1f9 U+1f1fb' : None, # tuvalu
    b' U+1f1f9 U+1f1fc' : 'zh-tw',
    b' U+1f1f9 U+1f1ff' : 'sw',
    b' U+1f1fa U+1f1e6' : 'uk',
    b' U+1f1fa U+1f1ec' : 'en',
    b' U+1f1fa U+1f1f2' : None, # us outlying islands
    b' U+1f1fa U+1f1f3' : None, # united nations (for documentation purposes)
    b' U+1f1fa U+1f1f8' : 'en',
    b' U+1f1fa U+1f1fe' : 'es',
    b' U+1f1fa U+1f1ff' : 'uz',
    b' U+1f1fb U+1f1e6' : 'it',
    b' U+1f1fb U+1f1e8' : 'en',
    b' U+1f1fb U+1f1ea' : 'es',
    b' U+1f1fb U+1f1ec' : None, # british virgin islands
    b' U+1f1fb U+1f1ee' : None, # us virgin islands
    b' U+1f1fb U+1f1f3' : 'vi',
    b' U+1f1fb U+1f1fa' : None, # vanuatu
    b' U+1f1fc U+1f1eb' : None, # wallis futuna
    b' U+1f1fc U+1f1f8' : 'sm',
    b' U+1f1fc U+1f1f0' : 'sq',
    b' U+1f1fe U+1f1ea' : 'ar',
    b' U+1f1fe U+1f1f9' : None, # mayotte
    b' U+1f1ff U+1f1e6' : 'zu',
    b' U+1f1ff U+1f1f2' : 'en',
    b' U+1f1ff U+1f1fc' : 'en',
}

FLAGS_INV = {v: k for k, v in FLAGS.items()}

def flag_to_lang(text):
    f = text.encode('unicode_escape')
    if f in FLAGS: return FLAGS[f]
    return None

def lang_to_flag(text):
    if text in FLAGS_INV: return FLAGS_INV[text]
    return None

